{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raymo\\\\dev\\\\project-3\\\\covid19\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Route, Link } from 'react-router-dom';\nimport './App.css';\nimport LoginForm from './components/Authentication/LoginForm';\nimport SignupForm from './components/SignupForm';\nimport Header from './components/Header';\nimport Home from './components/Home';\n\nconst DisplayLinks = props => {\n  if (props.loggedIn) {\n    return /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 13,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 7\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"#\",\n      className: \"nav-link\",\n      onClick: props._logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 7\n      }\n    }, \"Logout\"))));\n  } else {\n    return /*#__PURE__*/React.createElement(\"nav\", {\n      className: \"navbar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }\n    }, \"login\")), /*#__PURE__*/React.createElement(\"li\", {\n      className: \"nav-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 6\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      className: \"nav-link\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }, \"sign up\"))));\n  }\n};\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loggedIn: false,\n      user: null\n    };\n    this._logout = this._logout.bind(this);\n    this._login = this._login.bind(this);\n  }\n\n  componentDidMount() {\n    axios.get('/auth/user').then(response => {\n      console.log(response.data);\n\n      if (!!response.data.user) {\n        console.log('THERE IS A USER');\n        this.setState({\n          loggedIn: true,\n          user: response.data.user\n        });\n      } else {\n        this.setState({\n          loggedIn: false,\n          user: null\n        });\n      }\n    });\n  }\n\n  _logout(event) {\n    event.preventDefault();\n    console.log('logging out');\n    axios.post('/auth/logout').then(response => {\n      console.log(response.data);\n\n      if (response.status === 200) {\n        this.setState({\n          loggedIn: false,\n          user: null\n        });\n      }\n    });\n  }\n\n  _login(username, password) {\n    axios.post('/auth/login', {\n      username,\n      password\n    }).then(response => {\n      console.log(response);\n\n      if (response.status === 200) {\n        // update the state\n        this.setState({\n          loggedIn: true,\n          user: response.data.user\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 4\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 5\n      }\n    }, \"This is the main App component\"), /*#__PURE__*/React.createElement(Header, {\n      user: this.state.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(DisplayLinks, {\n      _logout: this._logout,\n      loggedIn: this.state.loggedIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      render: () => /*#__PURE__*/React.createElement(Home, {\n        user: this.state.user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 41\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      render: () => /*#__PURE__*/React.createElement(LoginForm, {\n        _login: this._login,\n        _googleSignin: this._googleSignin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 7\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/signup\",\n      component: SignupForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 5\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/raymo/dev/project-3/covid19/client/src/App.js"],"names":["React","Component","axios","Route","Link","LoginForm","SignupForm","Header","Home","DisplayLinks","props","loggedIn","_logout","App","constructor","state","user","bind","_login","componentDidMount","get","then","response","console","log","data","setState","event","preventDefault","post","status","username","password","render","_googleSignin"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { Route, Link } from 'react-router-dom'\nimport './App.css'\nimport LoginForm from './components/Authentication/LoginForm'\nimport SignupForm from './components/SignupForm'\nimport Header from './components/Header'\nimport Home from './components/Home'\n\nconst DisplayLinks = props => {\n\tif (props.loggedIn) {\n\t\treturn (\n\t\t\t<nav className=\"navbar\">\n\t\t\t\t<ul className=\"nav\">\n\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t<Link to=\"/\" className=\"nav-link\">\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<Link to=\"#\" className=\"nav-link\" onClick={props._logout}>\n\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t)\n\t} else {\n\t\treturn (\n\t\t\t<nav className=\"navbar\">\n\t\t\t\t<ul className=\"nav\">\n\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t<Link to=\"/\" className=\"nav-link\">\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t<Link to=\"/login\" className=\"nav-link\">\n\t\t\t\t\t\t\tlogin\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t<Link to=\"/signup\" className=\"nav-link\">\n\t\t\t\t\t\t\tsign up\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t)\n\t}\n}\n\nclass App extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tloggedIn: false,\n\t\t\tuser: null\n\t\t}\n\t\tthis._logout = this._logout.bind(this)\n\t\tthis._login = this._login.bind(this)\n\t}\n\tcomponentDidMount() {\n\t\taxios.get('/auth/user').then(response => {\n\t\t\tconsole.log(response.data)\n\t\t\tif (!!response.data.user) {\n\t\t\t\tconsole.log('THERE IS A USER')\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedIn: true,\n\t\t\t\t\tuser: response.data.user\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedIn: false,\n\t\t\t\t\tuser: null\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\t_logout(event) {\n\t\tevent.preventDefault()\n\t\tconsole.log('logging out')\n\t\taxios.post('/auth/logout').then(response => {\n\t\t\tconsole.log(response.data)\n\t\t\tif (response.status === 200) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tloggedIn: false,\n\t\t\t\t\tuser: null\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\t}\n\n\t_login(username, password) {\n\t\taxios\n\t\t\t.post('/auth/login', {\n\t\t\t\tusername,\n\t\t\t\tpassword\n\t\t\t})\n\t\t\t.then(response => {\n\t\t\t\tconsole.log(response)\n\t\t\t\tif (response.status === 200) {\n\t\t\t\t\t// update the state\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tloggedIn: true,\n\t\t\t\t\t\tuser: response.data.user\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<h1>This is the main App component</h1>\n\t\t\t\t<Header user={this.state.user} />\n\t\t\t\t{/* LINKS to our different 'pages' */}\n\t\t\t\t<DisplayLinks _logout={this._logout} loggedIn={this.state.loggedIn} />\n\t\t\t\t{/*  ROUTES */}\n\t\t\t\t{/* <Route exact path=\"/\" component={Home} /> */}\n\t\t\t\t<Route exact path=\"/\" render={() => <Home user={this.state.user} />} />\n\t\t\t\t<Route\n\t\t\t\t\texact\n\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\trender={() =>\n\t\t\t\t\t\t<LoginForm\n\t\t\t\t\t\t\t_login={this._login}\n\t\t\t\t\t\t\t_googleSignin={this._googleSignin}\n\t\t\t\t\t\t/>}\n\t\t\t\t/>\n\t\t\t\t<Route exact path=\"/signup\" component={SignupForm} />\n\t\t\t\t{/* <LoginForm _login={this._login} /> */}\n\t\t\t</div>\n\t\t)\n\t}\n}\nexport default App"]},"metadata":{},"sourceType":"module"}