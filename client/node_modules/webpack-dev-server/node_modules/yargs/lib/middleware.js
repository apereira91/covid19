module.exports = function (globalMiddleware, context) {
  return function (callback) {
    if (Array.isArray(callback)) {
      Array.prototype.push.apply(globalMiddleware, callback)
<<<<<<< HEAD
    } else if (typeof callback === 'object') {
=======
    } else if (typeof callback === 'function') {
>>>>>>> master
      globalMiddleware.push(callback)
    }
    return context
  }
}
